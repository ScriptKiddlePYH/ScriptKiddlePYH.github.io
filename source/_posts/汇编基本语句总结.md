---
title: 汇编基本语句总结
tags: 汇编语言
categories: 汇编语言
top: 4
---

# 汇编基本语句总结

[toc]

 （目的寄存器：保存结果的寄存器）

## 一、 基本框架

```assembly
.586
.MODEL flat, stdcall

.code
main proc
	mov eax, 1
	mov ebx, 2
main ENDP
END main
```



## 二、基本运算



### 1. 加

- 自增用法：`INC  寄存器名（incrementing）`
- 加法用法：`ADD 目的寄存器,  寄存器名或数值（addition）`



### 2. 减法

- 自减用法：`DEC 寄存器名（decrementing）`
- 减法用法：`SUB 目的寄存器，寄存器名或数值（subtraction）`



### 3. 乘法

- 用法：`mul 倍数（寄存器）`

#### 通用寄存器表

![image-20200212001849964](C:\Users\LITTLECHIEH\AppData\Roaming\Typora\typora-user-images\image-20200212001849964.png)

倍数会决定**计算结果存储位置**，也会决定**被乘数的所在范围**：

- 当大小为 1 字节：![Arithmetic1](https://www.tutorialspoint.com/assembly_programming/images/arithmetic1.jpg)
- 当大小为 2 字节：![Arithmetic2](https://www.tutorialspoint.com/assembly_programming/images/arithmetic2.jpg)
- 当大小为 4 字节：![image-20200213040532241](C:\Users\LITTLECHIEH\AppData\Roaming\Typora\typora-user-images\image-20200213040532241.png)



### 4. 除法

- 除法：`div 除数（分母，寄存器）`

  其中 Quotient 是商，Remainder 是余数，Divisor 是除数

  类似乘法，除数也会有类似的作用。

  - 当大小为 1 字节：![Arithmetic4](https://www.tutorialspoint.com/assembly_programming/images/arithmetic4.jpg)
  - 当大小为 2 字节：![Arithmetic5](https://www.tutorialspoint.com/assembly_programming/images/arithmetic5.jpg)
  - 当大小为 4 字节：![Arithmetic6](https://www.tutorialspoint.com/assembly_programming/images/arithmetic6.jpg)





## 三、逻辑运算

语句和加类似，讲运算结果放入`operand1`（操作数1）

| 序号 |   指令   |          格式          |
| :--: | :------: | :--------------------: |
|  1   |  AND 与  | AND operand1, operand2 |
|  2   |  OR 或   | OR operand1, operand2  |
|  3   | XOR 异或 | XOR operand1, operand2 |
|  4   |  NOT 非  |      NOT operand1      |



## 四、循环

`;`  符号为注释

`l1` 是标签（表示这是一个循环）

`<loop body> ` ：需要循环的语句

`loop l1`: 循环结束

```assembly
l1: 
;标记
	<loop body>
loop l1
```

案例：

```assembly
.586
.MODEL flat, stdcall

.code
main proc
	mov eax, 0
	mov ebx, 1
	mov ecx, 10
l1:
	add eax, ebx
main ENDP
END main
```





## 五、栈操作

- 出栈：`push 寄存器或数值`

- 入栈：`pop 目的寄存器`

#### 指针寄存器

（助记：记住 EBP 中的 B 是 Base，代表底部（栈底））

![image-20200212003605108](C:\Users\LITTLECHIEH\AppData\Roaming\Typora\typora-user-images\image-20200212003605108.png)



## 六、数据移动指令

- 赋值：`mov 目的寄存器 寄存器或数值`

- 传地址：`lea 目的寄存器 操作数`

  ```assembly
  lea eax, dword ptr ss:[esp]
  ```

- 交换：`xchg 操作数 操作数`（类似`lea`）



## 七、比较指令

- 相减比较：`cmp 目的寄存器 寄存器`
- 相与比较：`test 目的寄存器 寄存器`



参考网站：

- https://www.tutorialspoint.com/assembly_programming/assembly_registers.htm（科学上网）