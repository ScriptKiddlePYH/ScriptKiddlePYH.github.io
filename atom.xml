<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Security&#39;s Blog</title>
  <icon>https://pyhsecurity.cn/icon.png</icon>
  <subtitle>越努力，越幸运</subtitle>
  <link href="https://pyhsecurity.cn/atom.xml" rel="self"/>
  
  <link href="https://pyhsecurity.cn/"/>
  <updated>2021-03-09T09:53:10.707Z</updated>
  <id>https://pyhsecurity.cn/</id>
  
  <author>
    <name>PYH</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>域内信息收集</title>
    <link href="https://pyhsecurity.cn/2021/03/09/%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>https://pyhsecurity.cn/2021/03/09/%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2021-03-09T09:52:17.854Z</published>
    <updated>2021-03-09T09:53:10.707Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;在内网渗透中，我们必须要快速地对内网信息进行多方面的信息收集，因此我们需要用到一些常用的命令或者是工具对内网域控制器或者管理员进行快速地定位&lt;/p&gt;
&lt;h2 id=&quot;工具的使用&quot;&gt;&lt;a href=&quot;#工具的使用&quot; class=&quot;headerlink&quot; title=&quot;工具的使用&quot;&gt;&lt;/a&gt;工具的使用&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;net config workstation：查询当前登录域及登录用户信息&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;“登录域”用于表示当前登录的用户是域用户还是本地用户&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210309171809630.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;net time /domain：判断主域(域服务器通常会同时作为时间服务器使用)&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;执行命令后有三种情况，因为条件原因我这里只显示一种情况&lt;/p&gt;
&lt;p&gt;存在域，但当前用户不是域用户&lt;br&gt;存在域，且当前用户是域用户&lt;br&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210309172224207.png&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;br&gt;当前网络环境为工作组，不存在域&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;for /L %I in (3,1,254) DO @ping -w 1 -n 1 192.168.3.%I | findstr “TTL=”：利用ICMP协议快速探测内网&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="内网渗透" scheme="https://pyhsecurity.cn/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="红队对抗" scheme="https://pyhsecurity.cn/tags/%E7%BA%A2%E9%98%9F%E5%AF%B9%E6%8A%97/"/>
    
  </entry>
  
  <entry>
    <title>汇编基本语句总结</title>
    <link href="https://pyhsecurity.cn/2021/03/08/%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/"/>
    <id>https://pyhsecurity.cn/2021/03/08/%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/</id>
    <published>2021-03-08T13:04:13.883Z</published>
    <updated>2021-03-09T09:55:16.730Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;进制的定义&quot;&gt;&lt;a href=&quot;#进制的定义&quot; class=&quot;headerlink&quot; title=&quot;进制的定义&quot;&gt;&lt;/a&gt;进制的定义&lt;/h2&gt;&lt;p&gt;进制是由符号组成，可以自己定义，进位是指向后数一位。&lt;/p&gt;
&lt;p&gt;二进制：由两个符号组成，分别是0 、1 逢二进一&lt;/p&gt;
&lt;p&gt;八进制：由八个符号组成，分别是0、1、2、3、4、5、6、7 、逢八进一&lt;/p&gt;
&lt;p&gt;十进制：由十个符号组成，分别是0、1、2、3、4、5、6、7、8、9、逢十进一&lt;/p&gt;
&lt;p&gt;十六进制：由十六个符号组成，分别是0、1、2、3、4、5、6、7、8、9、A、B、C、D、E、F、逢十六进一&lt;/p&gt;
&lt;p&gt;当然，除了常规的，还有3进制、4进制….n进制，进制的符号不一定是常规的123顺序排列的。&lt;/p&gt;
&lt;p&gt;主要作用可以用于加密。进制运算结果本质是通过查表得到的。&lt;/p&gt;
&lt;p&gt;16位汇编：实模式，16位处理器内的内部，最多可以处理存储的长度为16位。&lt;/p&gt;
&lt;p&gt;32位汇编：保护模式，32位处理器内的内部，最多可以处理存储的长度为32位。&lt;/p&gt;</summary>
    
    
    
    <category term="汇编语言" scheme="https://pyhsecurity.cn/categories/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="二进制逆向" scheme="https://pyhsecurity.cn/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>汇编基本语句总结</title>
    <link href="https://pyhsecurity.cn/2021/03/08/%E6%B1%87%E7%BC%96%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93/"/>
    <id>https://pyhsecurity.cn/2021/03/08/%E6%B1%87%E7%BC%96%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93/</id>
    <published>2021-03-08T11:52:42.304Z</published>
    <updated>2021-03-09T09:55:16.728Z</updated>
    
    
    <summary type="html">&lt;h1 id=&quot;汇编基本语句总结&quot;&gt;&lt;a href=&quot;#汇编基本语句总结&quot; class=&quot;headerlink&quot; title=&quot;汇编基本语句总结&quot;&gt;&lt;/a&gt;汇编基本语句总结&lt;/h1&gt;&lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt; （目的寄存器：保存结果的寄存器）&lt;/p&gt;
&lt;h2 id=&quot;一、-基本框架&quot;&gt;&lt;a href=&quot;#一、-基本框架&quot; class=&quot;headerlink&quot; title=&quot;一、 基本框架&quot;&gt;&lt;/a&gt;一、 基本框架&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;.586&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.MODEL flat, stdcall&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.code&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;main proc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mov eax, 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	mov ebx, 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;main ENDP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;END main&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h2 id=&quot;二、基本运算&quot;&gt;&lt;a href=&quot;#二、基本运算&quot; class=&quot;headerlink&quot; title=&quot;二、基本运算&quot;&gt;&lt;/a&gt;二、基本运算&lt;/h2&gt;&lt;h3 id=&quot;1-加&quot;&gt;&lt;a href=&quot;#1-加&quot; class=&quot;headerlink&quot; title=&quot;1. 加&quot;&gt;&lt;/a&gt;1. 加&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;自增用法：&lt;code&gt;INC  寄存器名（incrementing）&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;加法用法：&lt;code&gt;ADD 目的寄存器,  寄存器名或数值（addition）&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;2-减法&quot;&gt;&lt;a href=&quot;#2-减法&quot; class=&quot;headerlink&quot; title=&quot;2. 减法&quot;&gt;&lt;/a&gt;2. 减法&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;自减用法：&lt;code&gt;DEC 寄存器名（decrementing）&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;减法用法：&lt;code&gt;SUB 目的寄存器，寄存器名或数值（subtraction）&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="汇编语言" scheme="https://pyhsecurity.cn/categories/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="二进制逆向" scheme="https://pyhsecurity.cn/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>Powershell收集域内信息</title>
    <link href="https://pyhsecurity.cn/2021/03/07/%E6%9F%A5%E6%89%BE%E5%9F%9F%E7%AE%A1%E7%90%86%E8%BF%9B%E7%A8%8B/"/>
    <id>https://pyhsecurity.cn/2021/03/07/%E6%9F%A5%E6%89%BE%E5%9F%9F%E7%AE%A1%E7%90%86%E8%BF%9B%E7%A8%8B/</id>
    <published>2021-03-07T13:39:14.825Z</published>
    <updated>2021-03-07T13:44:18.917Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;在渗透测试中，一个典型的域权限提升过程，通常围绕着收集明文凭据或通过mimikatz提权等方法，在获取了管理员权限的系统中寻找域管理员登录进程，进而收集域管理员的凭据。如果内网环境非常复杂，渗透测试人员无法立即在拥有权限的系统中获得域管理员进程，那么通常采用的方法是：在跳板机之间跳转，直至获得域管理员权限，同时进行一些分析工作，进而找到渗透测试的路径。&lt;/p&gt;
&lt;p&gt;现在我们来假设一种情况：渗透测试人员在某个内网环境中获得一个域普通用户的权限，首先通过各种方法获得当前服务器的本地管理员权限，然后分析当前服务器的用户登录列表及会话信息，知道哪些用户登录了这台服务器。如果渗透测试人员通过分析发现，可以获取权限的登录用户都不是域管理员账户，同时没有域管理员组中的用户登录这台服务器，就可以使用另一个账户并寻找账户在内网的哪台机器上具有管理权限，再枚举这台机器上的用户，然后继续进行渗透测试，直至找到一个可以获取域管理员权限的有效路径为止。&lt;/p&gt;
&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;h2 id=&quot;思路&quot;&gt;&lt;a href=&quot;#思路&quot; class=&quot;headerlink&quot; title=&quot;思路&quot;&gt;&lt;/a&gt;思路&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;net group “Domain Admins” /domain：获取域管理员列表&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210307211234765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;tasklist /v：列出本机的所有进程及进程用户&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210307211423315.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;br&gt;从这里可以看到域管理员都有哪些进程，如果能找到，这将对后面窃取令牌有很大的帮助。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;net group “Domain Controllers” /domain：查询域控制器列表&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="内网渗透" scheme="https://pyhsecurity.cn/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="红队对抗" scheme="https://pyhsecurity.cn/tags/%E7%BA%A2%E9%98%9F%E5%AF%B9%E6%8A%97/"/>
    
  </entry>
  
  <entry>
    <title>工作组信息收集</title>
    <link href="https://pyhsecurity.cn/2021/03/07/%E5%B7%A5%E4%BD%9C%E7%BB%84%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>https://pyhsecurity.cn/2021/03/07/%E5%B7%A5%E4%BD%9C%E7%BB%84%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2021-03-07T04:44:26.040Z</published>
    <updated>2021-03-07T13:44:18.918Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;收集本机信息&quot;&gt;&lt;a href=&quot;#收集本机信息&quot; class=&quot;headerlink&quot; title=&quot;收集本机信息&quot;&gt;&lt;/a&gt;收集本机信息&lt;/h2&gt;&lt;p&gt;不管是在外网还是内网中，信息收集都是重要的第一步。收集信息的方式又分为手动信息收集和自动信息收集。这里我们就先讲述怎样通过cmd命令手动收集内网中的主机信息。&lt;/p&gt;
&lt;h2 id=&quot;命令及演示效果&quot;&gt;&lt;a href=&quot;#命令及演示效果&quot; class=&quot;headerlink&quot; title=&quot;命令及演示效果&quot;&gt;&lt;/a&gt;命令及演示效果&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;systeminfo | findstr /B /C:”OS 名称” /C:”OS 版本”&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210307114353404.png&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;wmic product get name,version：利用wmic命令，将结果输出到文本文件中&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210307121744649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;wmic process list brief：查看进程信息&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210307121856592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="内网渗透" scheme="https://pyhsecurity.cn/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="红队对抗" scheme="https://pyhsecurity.cn/tags/%E7%BA%A2%E9%98%9F%E5%AF%B9%E6%8A%97/"/>
    
  </entry>
  
  <entry>
    <title>Powershell收集域内信息</title>
    <link href="https://pyhsecurity.cn/2021/03/06/Powershell%E6%94%B6%E9%9B%86%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF/"/>
    <id>https://pyhsecurity.cn/2021/03/06/Powershell%E6%94%B6%E9%9B%86%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF/</id>
    <published>2021-03-06T06:10:26.889Z</published>
    <updated>2021-03-07T13:44:18.917Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Powershell作为微软官方推出的脚本语言，在Windows操作系统中的强大功能总所周知：系统管理员可以利用它提高Windows管理工作的自动化程度；渗透测试人员可以利用它更好地进行系统安全测试。因为powershell命令比较安全，减少了触发IDS或IPS的风险，因此大多数的作用是用于绕过策略。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Powershell的常用执行权限共有四种&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Restricted&lt;/td&gt;
&lt;td&gt;默认设置，不允许执行任何脚本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Allsigned&lt;/td&gt;
&lt;td&gt;只能运行经过证书验证的脚本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Unrestricted&lt;/td&gt;
&lt;td&gt;权限最高，可以执行任意脚本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RemoteSigned&lt;/td&gt;
&lt;td&gt;对本地脚本不进行限制；对来自网络的脚本必须验证其签名&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;h2 id=&quot;各脚本命令展示&quot;&gt;&lt;a href=&quot;#各脚本命令展示&quot; class=&quot;headerlink&quot; title=&quot;各脚本命令展示&quot;&gt;&lt;/a&gt;各脚本命令展示&lt;/h2&gt;&lt;p&gt;这里我们将策略设置为Unrestricted，能运行所有的脚本权限&lt;br&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210306133134774.png&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;br&gt;然后我们进入PowerSploit的Recon文件夹将PowerView.ps1这个脚本导入进去(只有导入这个脚本才能执行以下命令)，这个是PowerSploit的下载地址&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/PowerShellMafia/PowerSploit&quot;&gt;https://github.com/PowerShellMafia/PowerSploit&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210306133704948.png&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Get-NetDomain：获取当前用户所在域的名称&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210306133824783.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTAwNzA3Mw==,size_16,color_FFFFFF,t_70&quot; alt=&quot;在这里插入图片描述&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="内网渗透" scheme="https://pyhsecurity.cn/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="红队对抗" scheme="https://pyhsecurity.cn/tags/%E7%BA%A2%E9%98%9F%E5%AF%B9%E6%8A%97/"/>
    
  </entry>
  
  <entry>
    <title>基因突变的模糊测试(GET参数)</title>
    <link href="https://pyhsecurity.cn/2021/03/04/%E5%9F%BA%E5%9B%A0%E7%AA%81%E5%8F%98%E7%9A%84%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95(GET%E5%8F%82%E6%95%B0)/"/>
    <id>https://pyhsecurity.cn/2021/03/04/%E5%9F%BA%E5%9B%A0%E7%AA%81%E5%8F%98%E7%9A%84%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95(GET%E5%8F%82%E6%95%B0)/</id>
    <published>2021-03-04T03:50:03.495Z</published>
    <updated>2021-03-05T04:18:35.492Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;基础要求&quot;&gt;&lt;a href=&quot;#基础要求&quot; class=&quot;headerlink&quot; title=&quot;基础要求&quot;&gt;&lt;/a&gt;基础要求&lt;/h2&gt;&lt;p&gt;首先我们得具备最基础的SQL注入和XSS漏洞的基本知识，不懂的读者可以自行百度先学习，然后我们再学习下面的内容。下面我们将使用C#这门编程语言编写模糊测试工具测试是否存在漏洞。&lt;/p&gt;
&lt;h2 id=&quot;代码展示&quot;&gt;&lt;a href=&quot;#代码展示&quot; class=&quot;headerlink&quot; title=&quot;代码展示&quot;&gt;&lt;/a&gt;代码展示&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;一个小的分解给定URL中的查询字符串参数Main()方法&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; System;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; System.IO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; System.Net;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;namespace 突变模糊测试&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Program&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Main&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;[] args&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;/span&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; url = args[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//确定第一个问号的位置，标志URL已经结束，后面是我们要查询的参数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;int&lt;/span&gt; index = url.IndexOf(&lt;span class=&quot;string&quot;&gt;&amp;quot;?&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// 返回一个仅包含URL参数的字符串&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt;[] parms = url.Remove(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, index + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;).Split(&lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;amp;&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; parm &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; parms)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Console.WriteLine(parm);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;span id=&quot;more&quot;&gt;&lt;/span&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;污染参数和测试漏洞&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果服务器不容易受到XSS或SQL注入的攻击，那么服务器会恰当地检查这些数据。向污染数据添加&lt;code&gt;&amp;lt;xss&amp;gt;&lt;/code&gt;，并且测试SQL注入的数据将具有单引号。&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; parm &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; parms)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; xssUrl = url.Replace(parm, parm + &lt;span class=&quot;string&quot;&gt;&amp;quot;fd&amp;lt;xss&amp;gt;sa&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;built_in&quot;&gt;string&lt;/span&gt; sqlUrl = url.Replace(parm, parm + &lt;span class=&quot;string&quot;&gt;&amp;quot;fd&amp;#x27;sa&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Console.WriteLine(xssUrl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Console.WriteLine(sqlUrl);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;构造HTTP请求&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="C#灰帽子" scheme="https://pyhsecurity.cn/categories/C-%E7%81%B0%E5%B8%BD%E5%AD%90/"/>
    
    
    <category term="模糊测试" scheme="https://pyhsecurity.cn/tags/%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Redis未授权访问漏洞</title>
    <link href="https://pyhsecurity.cn/2021/02/24/Redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/"/>
    <id>https://pyhsecurity.cn/2021/02/24/Redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E/</id>
    <published>2021-02-24T06:58:54.496Z</published>
    <updated>2021-03-05T04:18:44.076Z</updated>
    
    
    <summary type="html">&lt;h2 id=&quot;攻击思路&quot;&gt;&lt;a href=&quot;#攻击思路&quot; class=&quot;headerlink&quot; title=&quot;攻击思路&quot;&gt;&lt;/a&gt;攻击思路&lt;/h2&gt;&lt;p&gt;Redis是一种使用ANSIC语言编写的开源Key-Value型数据库。Redis为了保证效率，将数据缓存在内存中，周期性地把更新的数据写入磁盘或者把修改操作写入追加的记录文件中，在此基础上实现了master-slave(主从)同步。&lt;/p&gt;
&lt;p&gt;对Redis配置不当将会导致未授权访问漏洞，从而被攻击者恶意利用。如果Redis以root身份运行，攻击者可以用root权限写入SSH公钥文件，通过SSH登录目标服务器，进而导致服务器权限被获取、泄露或发生加密勒索事件，为正常服务带来严重危害。&lt;/p&gt;</summary>
    
    
    
    <category term="python安全攻防" scheme="https://pyhsecurity.cn/categories/python%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2/"/>
    
    
    <category term="漏洞检测与防御" scheme="https://pyhsecurity.cn/tags/%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B%E4%B8%8E%E9%98%B2%E5%BE%A1/"/>
    
  </entry>
  
</feed>
